# Changelog for ModelerFour

#### 4.16.0 _(unreleased)_
  - **Fix** Missing description in responses. ([PR 370](https://github.com/Azure/autorest.modelerfour/pull/370))
  - **Feature** Added new flag `always-create-accept-parameter` to enable/disable accept param auto generation. ([PR 366](https://github.com/Azure/autorest.modelerfour/pull/366))
  - **Fix** Allow request with body being a file and `application/json` content-type. ([PR 363](https://github.com/Azure/autorest.modelerfour/pull/363))
  - **Fix** Dictionaries of dictionaries not being modeled as such(`dict[str, object]` instead of `dict[str, dict[str, str]]`). ([PR 372](https://github.com/Azure/autorest.modelerfour/pull/372))
  - **Fix** Issue with duplicates schemas names due to consequtive name duplicate removal. ([PR 374](https://github.com/Azure/autorest.modelerfour/pull/374))

#### 4.15.x
  - Schemas with `x-ms-enum`'s `modelAsString` set to `true` will now be represented as `ChoiceSchema` even with a single value.
  - `Accept` headers are now automatically added to operations having responses with content types
  - Added `always-seal-x-ms-enum` settings to always create `SealedChoiceSchema` when an `x-ms-enum` is encountered

#### 4.14.x
  - added `exception` SchemaContext for `usage` when used as an exception response
  - changed `output` SchemaContext for `usage` to no longer include exception response uses

#### 4.13.x 
  - add security info (checks to see if `input.components?.securitySchemes` has any content)
  - sync version of m4 and perks/codemodel == 4.13.x
  - adding quality prechecker step as a way to test the OAI document for quality before modelerfour runs.
  - report duplicate parents via allOf as an error.
  - added `modelerfour.lenient-model-deduplication` to cause schemas with duplicated names to be renamed with an "AutoGenerated" suffix.  Note that this is a *temporary* measuer that should only be used when Swaggers cannot be updated easily.  This option will be removed in a future version of Modeler Four.

#### 4.12.x
  - updated CI to build packages
  - any is in a category in schemas
  - times is a new category in schemas (not populated yet, next build)
  - polymorphic payloads are not flattened (when it's the class that declares the discriminator)
  - readonly is pulled from the schema if it's there
  - body parameters should have the required flag set correctly
  - content-type is now a header parameter (wasn't set before)
  - added `modelerfour.always-create-content-type-parameter` to always get the content type parameter even when there are only one option.
  - add support for x-ms-api-version extension to force enabling/disabling parameter to be treated as an api-version parameter
  - the checker plugin will now halt on errors (can be disabled by `modelerfour.additional-checks: false`)
  - when an enum without type is presented, if the values are all strings, assume 'string'
  - flatten parents first for consistency
  - added choiceType for content-type schema

#### 4.6.x
  - add additional checks for empty names, collisions
  - fix errant processing on APString => Apstring 
  - x-ms-client-name fixes on parameters
  - added setting for `preserve-uppercase-max-length` to preserve uppercase words up to a certain length.

#### 4.5.x
  - static linking libraries for stability
  - processed all names in namer, styles can be set in config (see below):

  - support overrides in namer 
  - static linked dependency

#### 4.4.x 
  - parameter grouping 
  - some namer changes 

#### 4.3.x
  - flattening (model and payload) enabled.
  - properties should respect x-ms-client-name (many fixes)
  - global parameters should try to be in order of original spec
  - filter out 'x-ms-original' from extensions
  - add serializedName for host parameters
  - make sure reused global parameter is added to method too
  - processed values in constants/enums a bit better, support AnySchema for no type/format 
  - support server variable parameters as method unless they have x-ms-parameter-location

#### 4.2.75 - bug fixes:
  - add `style` to parameters to support collection format 
  - `potential-breaking-change` Include common paramters from oai/path #68 (requires fix from autorest-core 3.0.6160+ ) 
  - propogate extensions from server parameters (ie, x-ms-skip-url-encoding) #61
  - `potential-breaking-change` make operation groups case insensitive. #59 
  - `potential-breaking-change` sealedChoice/Choice selection was backwards ( was creating a sealedchoice schema for modelAsString:true and vice versa) #62 
  - `potential-breaking-change` drop constant schema from response, use constantschema's valueType instead. #63
  - `potential-breaking-change` fix body parameter marked as required when not marked so in spec. #64

#### 4.1.60 - add missing serializedName on parameters
  - query parameters should have a serializedName so that they don't rely on the cosmetic name property.
  

#### 4.1.58 - Breaking change: 
  - version bump, change your configuration to specify version `~4.1.0` or greater
  
  ``` 
  use-extension:
    "@autorest/modelerfour" : "~4.1.0" 
  ```
  - each Http operation (via `.protocol.http`) will now have a separate `path` and `uri` properties. 
  <br>Both are still templates, and will have parameters. 
  <br>The parameters for the `uri` property will have `in` set to `ParameterLocation.Uri`
  <br>The parameters for the `path` property will continue to have `in` set to `ParameterLocation.Path`

  
  - autorest-core recently added an option to aggressively deduplicate inline models (ie, ones without a name)
  and modeler-four based generator will have that enabled by default. (ie `deduplicate-inline-models: true`)
  <br>This may increase deduplication time on extremely large openapi models.

  - this package contains the initial code for the flattener plugin, however it is not yet enabled.

  - updated `@azure-tools/codemodel` package to `3.0.241`:
  <br>`uri` (required) was added to `HttpRequest`
  <br>`flattenedNames` (optional) was added to `Property` (in anticipation of supporting flattening)
